<window id="winRegistrarRecaudoGeneral"
	title="Registros Básicos:: Registrar Recaudos Generales"
	border="normal" apply="org.zkoss.bind.BindComposer"
	viewModel="@id('vm') @init('sigarep.viewmodels.maestros.VMrecaudoGeneral')">

	<groupbox>
		<caption label="Datos del Recaudo" />
		<grid>
			<columns>
				<column align="left" width="auto" />
				<column align="left" width="auto" />
			</columns>

			<rows>
				<row></row>
				<row>
					<label id="lblNombreRecaudo" value="Nombre:" />
					<textbox constraint="no empty: Ingrese el Nombre del Recaudo" 
					id="txtNombreRecaudo" cols="23"
						width="200px" maxlength="30" value="@bind(vm.nombreRecaudo)">
					</textbox>
				</row>
				<row>
					<label id="lblDescripcionRecaudo"
						value="Descripción: " />
					<textbox constraint="no empty: Ingrese la Descripción del Recaudo" 
					id="txtDescripcionRecaudo" width="200px"
						value="@bind(vm.descripcion)" />
				</row>
				<row>
					<label id="lblObservacionRecaudo"
						value="Observación: " />
					<textbox constraint="no empty: Ingrese la Observación del Recaudo" 
					 id="txtObservacionRecaudo" width="200px"
						value="@bind(vm.observacion)" />
				</row>
			</rows>
		</grid>

		<!-- Grupbox que contiene el listado de los recaudos -->
		<groupbox>
			<caption label="Listado de Recaudos" />
			<space />
			<space />
			<!-- Lista que contiene el listado de los recaudos -->
			<listbox id="lbxrecaudo" height="160px"
				model="@bind(vm.listaRecaudos)"
				selectedItem="@bind(vm.recaudoSeleccionado)"
				onSelect="@command('mostrarSeleccionado')"
				emptyMessage="No hay recaudos registrados" mold="paging"
				pageSize="10">
				<!-- Busqueda por FILTROS recaudos -->
				<listhead>
					<listheader label="Nombre" align="center"
						sort="auto(nombre)">
						<textbox id="filtroNombre" instant="true"
							width="100px" value="@bind(vm.nombreRecaudoFiltro)"
							onChange="@command('filtros')" />
						<image src="imagenes/iconos/buscar.png" />
					</listheader>
					<listheader label="Descripciòn " align="center"
						sort="auto(descripcion)" />
					<listheader label="Observaciòn " align="center"
						sort="auto(observacion)" />
				</listhead>
				<template name="model">
					<listitem selected="false">
						<listcell label="${each.nombreRecaudo}"></listcell>
						<listcell label="${each.descripcion}"></listcell>
						<listcell label="${each.observacion}"></listcell>
					</listitem>
				</template>
			</listbox>

		</groupbox>
		<!--Botones -->
		<div align="right" height="100%">
			<button label="Guardar" id="btnGuardar"
				image="/imagenes/iconos/guardar.png" width="auto" height="auto"
				orient="horizontal" onClick="@command('guardarRecaudoGeneral')" />
			<button label="Cancelar" id="btnCancelar"
				image="/imagenes/iconos/cancelar.png" width="auto" height="auto"
				orient="horizontal" onClick="@command('limpiar')" />
			<button label="Eliminar" id="btnEliminar"
				image="/imagenes/iconos/eliminar.png" width="auto" height="auto"
				orient="horizontal" onClick="@command('eliminarRecaudo')" />
			<button label="Cerrar" id="btnCerrar"
				image="/imagenes/iconos/cerrar.png" width="auto" height="auto"
				orient="horizontal" onClick="winRegistrarRecaudoGeneral.onClose()" />
		</div>
	</groupbox>
</window>
